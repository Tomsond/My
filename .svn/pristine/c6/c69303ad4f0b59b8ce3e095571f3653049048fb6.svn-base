//package com.thinkive.fxc.ismp.bus.business.ggt.function;
//
//import com.thinkive.base.exception.BusinessException;
//import com.thinkive.base.util.SpringHelper;
//import com.thinkive.fxc.ismp.bus.base.business.constants.BusinessConstants;
//import com.thinkive.fxc.ismp.bus.base.business.constants.BusinessServiceBeanIdConstants;
//import com.thinkive.fxc.ismp.bus.base.business.model.BusinessEntityModel;
//import com.thinkive.fxc.ismp.bus.base.business.service.BusinessEntityService;
//import com.thinkive.fxc.ismp.bus.base.common.ISMPBaseFunction;
//import com.thinkive.fxc.ismp.bus.base.constants.DictionaryConstants;
//import com.thinkive.fxc.ismp.bus.base.constants.ErrorCodeCheckInput;
//import com.thinkive.fxc.ismp.bus.base.constants.ErrorCodeSystem;
//import com.thinkive.server.InvokeException;
//import com.thinkive.server.ResultVo;
//
///**
// * @描述: 港股通---业务办理完成确认【废除接口】
// * @版权: Copyright (c) 2010
// * @公司: 深圳市思迪信息技术股份有限公司
// * @作者: 田源
// * @版本: 2.0.0 
// * @创建时间: 2016年9月10日 下午5:42:42
// */
//public class Function1004209 extends ISMPBaseFunction{
//    
//    private Long userId;//用户ID
//    
//    private String businessCode = BusinessConstants.BUSINESS_GGT;
//    
//    private BusinessEntityService businessEntityService;
//	
//	@Override
//	public ResultVo execute() throws Exception{
//		
//		checkInput();
//		
//		businessEntityService=SpringHelper.getBean(BusinessServiceBeanIdConstants.SERVICE_ID_BUSINESSENTITY, BusinessEntityService.class);
//		BusinessEntityModel businessEntityModel=businessEntityService.queryNotCompleteByUserIdAndBusinessCode(userId, businessCode);
//		
//		String dealResult = businessEntityModel.getDealResult();
//		if (DictionaryConstants.DEAL_RESULT_NEEDAUTIT.equals(dealResult)||DictionaryConstants.DEAL_RESULT_NEEDPP.equals(dealResult)){
//			throw new BusinessException(ErrorCodeSystem.BUSINESS_NOTCOMPLETE, "业务办理数据未处理完成，无法结束");
//		}
//		
//		//修改业务表数据流程状态为前端已走完
//		BusinessEntityModel updateModel = new BusinessEntityModel();
//        updateModel.setIsComplete(DictionaryConstants.BOL_TRUE);
//        updateModel.setId(businessEntityModel.getId());
//        businessEntityService.update(updateModel);
//		
//		ResultVo resultVo = new ResultVo();
//		resultVo.setErrorNo(DictionaryConstants.INVOKE_FUNCTION_SUCCESS);
//		resultVo.setErrorMsg(DictionaryConstants.INVOKE_FUNCTION_SUCCESSMSG);
//		return resultVo;
//	}
//	
//	private void checkInput() throws InvokeException{
//	    userId = Long.valueOf(this.getAndCheckBlankStrParam("user_id", ErrorCodeCheckInput.BLANK_USERID));
//	}
//}
