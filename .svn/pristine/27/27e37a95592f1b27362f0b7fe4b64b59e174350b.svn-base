package com.thinkive.fxc.ismp.bus.base.business.dao.impl;

import com.thinkive.base.jdbc.DataRow;
import com.thinkive.fxc.ismp.bus.base.business.constants.BusinessTableConstants;
import com.thinkive.fxc.ismp.bus.base.business.dao.SurveyConfigDao;
import com.thinkive.fxc.ismp.bus.base.business.model.SurveyConfigModel;
import com.thinkive.fxc.ismp.bus.base.common.ISMPBaseDao;
import com.thinkive.fxc.ismp.bus.base.util.ModelUtil;

/**
 * @描述: 问卷节点需要提交的问卷组配置表(t_ismp_survey_config)数据层接口实现类
 * @版权: Copyright (c) 2016 
 * @公司: 深圳市思迪信息技术股份有限公司
 * @作者: 田源
 * @版本: 2.0 
 * @创建时间: 2016年8月16日 下午1:54:12
 */
public class SurveyConfigDaoImpl extends ISMPBaseDao implements SurveyConfigDao
{

    @Override
    public SurveyConfigModel queryByNodeId(String nodeId) 
    {
        StringBuilder sql=new StringBuilder();
        sql.append("SELECT ID,NODE_ID,QUESTION_SOURCE,THIRD_CODE,LOCAL_CODE,COMMIT_TYPE,PASS_GRADE,PASS_VALUE,ORDER,AUTO_CHECK FROM ");
        sql.append(BusinessTableConstants.T_ISMP_SURVEY_CONFIG);
        sql.append(" WHERE NODE_ID = ?");
        DataRow queryResult=this.getJdbcTemplate().queryMap(sql.toString(), new Object[]{nodeId});
        return ModelUtil.packInfo(queryResult, SurveyConfigModel.class);
    }
}
