package com.thinkive.fxc.ismp.bus.business.certificate.service.impl;

import java.util.List;
import com.thinkive.fxc.ismp.bus.base.constants.DictionaryConstants;
import com.thinkive.fxc.ismp.bus.business.certificate.dao.CertApplyDao;
import com.thinkive.fxc.ismp.bus.business.certificate.model.CertApplyInfo;
import com.thinkive.fxc.ismp.bus.business.certificate.service.CertApplyInfoService;

/**
 * 描述: 证书申请服务实现类
 * 版权: Copyright (c) 2010
 * 公司: 思迪科技 
 * 作者: 刘恺
 * 版本: 1.0 
 * 创建日期: 2015年12月15日 
 * 创建时间: 上午11:32:07
 */
public class CertApplyInfoServiceImpl implements CertApplyInfoService
{
	
	private CertApplyDao dao;
	
	@Override
	public CertApplyInfo queryByUIdAndCertType(String user_id, String cert_type, String iscomplete)
	{
		CertApplyInfo queryParam = new CertApplyInfo();
		queryParam.setUserId(user_id);
		queryParam.setCertType(cert_type);
		queryParam.setIscomplete(iscomplete);
		List<CertApplyInfo> certApplyInfoList = dao.queryByParams(queryParam);
		if (certApplyInfoList == null || certApplyInfoList.size() == 0)
		{
			return null;
		}
		return certApplyInfoList.get(0);
	}
	
	@Override
	public CertApplyInfo add(CertApplyInfo certApplyInfo)
	{
		return dao.add(certApplyInfo);
	}
	
	@Override
	public CertApplyInfo updateById(CertApplyInfo certApplyInfo)
	{
		if (DictionaryConstants.BOL_TRUE.equals(certApplyInfo.getVideo()))
		{
			certApplyInfo.setState("1");
			certApplyInfo.setIscomplete(DictionaryConstants.BOL_TRUE);
		}
		return dao.updateById(certApplyInfo);
	}
}
