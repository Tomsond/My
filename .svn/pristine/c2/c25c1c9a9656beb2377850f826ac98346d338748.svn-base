package com.thinkive.fxc.ismp.bus.business.rzrq.preMarginTrading.service.impl;

import com.thinkive.fxc.ismp.bus.business.rzrq.preMarginTrading.dao.AdditionalInfoDao;
import com.thinkive.fxc.ismp.bus.business.rzrq.preMarginTrading.model.AdditionalInfo;
import com.thinkive.fxc.ismp.bus.business.rzrq.preMarginTrading.service.AdditionalService;

/**
 * 描述: 融资融券预约用户补充信息服务类实现类
 * 版权: Copyright (c) 2010
 * 公司: 思迪科技 
 * 作者: 刘恺
 * 版本: 1.0 
 * 创建日期: 2015年6月5日 
 * 创建时间: 下午10:46:05
 */
public class AdditionalServiceImpl implements AdditionalService
{
	
	private AdditionalInfoDao preAdditionalInfoDao;
	
	public void setPreAdditionalInfoDao(AdditionalInfoDao preAdditionalInfoDao)
	{
		this.preAdditionalInfoDao = preAdditionalInfoDao;
	}
	
	public AdditionalInfo insertOrUpdateUserAdditionalInfo(AdditionalInfo userAddiInfo) throws Exception
	{
		AdditionalInfo sysAddiInfo = preAdditionalInfoDao.getIdByBIdAndQueId(userAddiInfo.getBusinessId());
		if (sysAddiInfo == null)
		{
			return preAdditionalInfoDao.addAdditionalInfo(userAddiInfo);
		}
		userAddiInfo.setId(sysAddiInfo.getId());
		return preAdditionalInfoDao.updateAdditionalInfoById(userAddiInfo);
	}
}
