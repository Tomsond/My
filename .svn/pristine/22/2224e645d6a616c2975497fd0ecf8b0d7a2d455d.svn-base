package com.thinkive.fxc.ismp.bus.base.business.dao.impl;

import java.util.List;

import com.thinkive.base.jdbc.DataRow;
import com.thinkive.fxc.ismp.bus.base.business.constants.BusinessTableConstants;
import com.thinkive.fxc.ismp.bus.base.business.dao.ProcNodeDefineDao;
import com.thinkive.fxc.ismp.bus.base.business.model.ProcNodeDefineModel;
import com.thinkive.fxc.ismp.bus.base.common.ISMPBaseDao;
import com.thinkive.fxc.ismp.bus.base.util.ModelUtil;

/**
 * @描述: 业务流程节点定义表(T_ISMP_PROCNODE_DEFINE)数据层接口实现类
 * @版权: Copyright (c) 2016 
 * @公司: 深圳市思迪信息技术股份有限公司
 * @作者: 田源
 * @版本: 2.0 
 * @创建时间: 2016年8月16日 上午10:00:16
 */
public class ProcNodeDefineDaoImpl extends ISMPBaseDao implements ProcNodeDefineDao
{
	
	@Override
	public ProcNodeDefineModel queryByNodeId(String nodeId)
	{
		StringBuilder sql = new StringBuilder();
		sql.append("SELECT NODE_ID,BUSINESS_TYPE,NODE_NAME,PAGE_ID,FUNC_NO,NODE_TYPE FROM ");
		sql.append(BusinessTableConstants.T_ISMP_PROCNODE_DEFINE);
		sql.append(" WHERE  NODE_ID = ?");
		DataRow queryResult = this.getJdbcTemplate().queryMap(sql.toString(), new Object[] { nodeId });
		return ModelUtil.packInfo(queryResult, ProcNodeDefineModel.class);
	}
	
	@Override
	@SuppressWarnings("unchecked")
	public List<ProcNodeDefineModel> queryByBusinessType(String businessType)
	{
		StringBuilder sql = new StringBuilder();
		sql.append("SELECT NODE_ID,BUSINESS_CODE,NODE_NAME,PAGE_ID,FUNC_NO,NODE_TYPE FROM ");
		sql.append(BusinessTableConstants.T_ISMP_PROCNODE_DEFINE);
		sql.append(" WHERE  BUSINESS_CODE = ?");
		List<DataRow> queryResult = this.getJdbcTemplate().query(sql.toString(), new Object[] { businessType });
		return ModelUtil.packList(queryResult, ProcNodeDefineModel.class);
	}
	
}
