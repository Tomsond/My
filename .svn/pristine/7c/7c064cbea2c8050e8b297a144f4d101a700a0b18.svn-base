package com.thinkive.fxc.ismp.bus.base.business.service;

import java.util.Map;

import com.thinkive.fxc.ismp.bus.base.business.vo.BprocNodeConfigAndDefineVO;
import com.thinkive.fxc.ismp.bus.base.business.vo.BusinessEntityAndConfigVO;

/**
 * @描述: 流程节点管理服务类
 * @版权: Copyright (c) 2010
 * @公司: 深圳市思迪信息技术股份有限公司
 * @作者: 刘恺
 * @版本: 2.0.0 
 * @创建时间: 2016年8月22日 下午2:01:02
 */
public interface FlowNodeManageService
{
	
	/**
	 * @描述：节点权限校验，并返回当前业务实例、节点配置
	 * @作者：刘恺
	 * @时间：2016年8月22日 下午2:10:47
	 * @param userId		
	 * @param businessCode	
	 * @param functionNo	
	 * @return
	 */
	public abstract Map<String, Object> checkNodeAuthAndReturnInfo(Long userId, String businessCode, int functionNo, String opSource, String nodeId);
	
	/**
	 * @描述：节点权限校验，并返回当前业务实例、节点配置
	 * @作者：刘恺
	 * @时间：2016年8月22日 下午2:10:47
	 * @param userId		用户编号
	 * @param businessCode	业务编号
	 * @param functionNo	功能号
	 * @return 
	 */
	public abstract Map<String, Object> checkNodeAuthAndReturnInfo(Long userId, String businessCode, String opSource, String nodeId);
	
	/**
	 * @描述：校验用户业务实例当前节点
	 * @作者：刘恺
	 * @时间：2016年9月10日 上午10:42:32
	 * @param submitBprocNodeConfigAndDefineVO
	 * @param businessEntityAndConfigVO
	 * @return
	 */
	public abstract Map<String, Object> checkBusinessEntityCrrNode(BprocNodeConfigAndDefineVO submitBprocNodeConfigAndDefineVO, BusinessEntityAndConfigVO businessEntityAndConfigVO);
	
	/**
	 * @描述：获取流程节点配置,并校验节点是否存在，功能号是否匹配
	 * @作者：刘恺
	 * @时间：2016年8月22日 下午11:16:20
	 * @param businessCode
	 * @param opSource
	 * @param nodeId
	 * @param functionNo
	 * @return
	 */
	public abstract BprocNodeConfigAndDefineVO getBprocNodeConfigService(String businessCode, String opSource, String nodeId, int functionNo);
	
	/**
	 * @描述：获取流程节点配置,并校验节点是否存在
	 * @作者：刘恺
	 * @时间：2016年8月22日 下午11:16:20
	 * @param businessCode
	 * @param opSource
	 * @param nodeId
	 * @param functionNo
	 * @return
	 */
	public abstract BprocNodeConfigAndDefineVO getBprocNodeConfigService(String businessCode, String opSource, String nodeId);
	
	/**
	 * @描述：校验节点是否正确
	 * @作者：刘恺
	 * @时间：2016年8月23日 下午7:34:05
	 * @param businessEntityAndConfigVO
	 * @param submitBprocNodeConfigAndDefineVO
	 * @return
	 */
	public abstract BprocNodeConfigAndDefineVO checkFlowNodeAndReturnUserCurrBprocNode(BusinessEntityAndConfigVO businessEntityAndConfigVO, BprocNodeConfigAndDefineVO submitBprocNodeConfigAndDefineVO);
	
	/**
	 * @throws Exception 
	 * @描述：修改业务实例的流程节点
	 * @作者：刘恺
	 * @时间：2016年8月23日 下午7:43:11
	 */
	public abstract void changeBusinessFlowNode(BusinessEntityAndConfigVO businessEntityAndConfigVO, BprocNodeConfigAndDefineVO submitBprocNodeConfigAndDefineVO, String isComplete, String dealResult,
			String opSource, String opStation, String ip) throws Exception;
	
}