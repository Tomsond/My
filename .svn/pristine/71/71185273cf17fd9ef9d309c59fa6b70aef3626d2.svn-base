package com.thinkive.fxc.ismp.bus.base.business.function;

import com.thinkive.redis.client.JedisClient;
import com.thinkive.server.InvokeException;
import com.thinkive.fxc.ismp.bus.base.common.ISMPBaseFunction;
import com.thinkive.fxc.ismp.bus.base.constants.DictionaryConstants;
import com.thinkive.fxc.ismp.bus.base.constants.SystemConstants;
import com.thinkive.server.ResultVo;


/**
 * 作者：MIKE
 * 公司：深圳市思迪信息技术股份公司
 * 日期时间：2018年4月19日 下午3:03:03
 * 说明：缓存业务办理实例编号到Redis
 */
public class Function1004548 extends ISMPBaseFunction
{
	
	private String user_id;// 用户编号
	
	private String business_id;//业务类型
	
	private String business_code;//业务类型
	
	@Override
	public ResultVo execute() throws InvokeException
	{
		checkInput();
		ResultVo resultVo = new ResultVo();
		JedisClient jedisClient = new JedisClient(SystemConstants.REDIS_DATASOURCE);
		String key="BusinessInfo_";
		jedisClient.set(key+user_id+"_"+business_code, business_id);
		resultVo.setErrorNo(DictionaryConstants.INVOKE_FUNCTION_SUCCESS);
		resultVo.setErrorMsg(DictionaryConstants.INVOKE_FUNCTION_SUCCESSMSG);
		return resultVo;
	}
	
	private void checkInput() throws InvokeException
	{
		user_id = this.getCheckBlankStrParam("userId");
		business_id = this.getCheckBlankStrParam("businessId");
		business_code = this.getCheckBlankStrParam("businessCode");
	}
}