package com.thinkive.fxc.ismp.bus.base.business.utils;

import com.thinkive.base.jdbc.DataRow;
import com.thinkive.base.util.SpringHelper;
import com.thinkive.fxc.ismp.bus.base.business.constants.BusinessServiceBeanIdConstants;
import com.thinkive.fxc.ismp.bus.base.business.service.PoliceCheckService;

/**
 * @描述: 公安校验工具类
 * @版权: Copyright (c) 2010
 * @公司: 深圳市思迪信息技术股份有限公司
 * @作者: 刘恺
 * @版本: 2.0.0 
 * @创建时间: 2016年11月4日 上午10:25:46
 */
public class PoliceCheckUtil
{
	
	private static PoliceCheckService policeCheckService = SpringHelper.getBean(BusinessServiceBeanIdConstants.SERVICE_ID_POLICECHECK, PoliceCheckService.class);
	
	/**
	 * @描述：获取用户指定业务的公安校验错误次数
	 * @作者：刘恺
	 * @时间：2016年11月4日 上午10:33:50
	 * @param userId
	 * @param businessCode
	 * @return
	 */
	@Deprecated
	public static int getPoliceCheckErrorTime(Long userId, String businessCode)
	{
		return policeCheckService.getPoliceCheckErrorTime(userId, businessCode);
	}
	
	/**
	 * @描述：公安校验并缓存错误次数，如果返回0标识校验通过，>0表示公安校验错误次数
	 * @作者：刘恺
	 * @时间：2016年11月4日 上午10:41:12
	 * @param userId
	 * @param businessCode
	 * @param policeCheckType
	 * @return
	 * @throws Exception 
	 */
	@Deprecated
	public static long policeCheckAndCacheErrorTime(Long userId, Long businessId, String businessCode, String identityNum, String name) throws Exception
	{
		return policeCheckService.policeCheckAndCacheErrorTime(userId, businessId, businessCode, identityNum, name);
	}
	
	/**
	 * @描述：调用第三方接口进行公安校验
	 * @作者：刘恺
	 * @时间：2016年11月8日 下午2:03:03
	 * @param identityNum
	 * @param name
	 * @return
	 * @throws Exception 
	 */
	@Deprecated
	public static DataRow thirdPoliceCheck(String identityNum, String name) throws Exception
	{
		return policeCheckService.thirdPoliceCheck(identityNum, name);
	}
	
}
