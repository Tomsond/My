package com.thinkive.fxc.ismp.bus.business.dzhtqs.function;

import java.util.ArrayList;
import java.util.List;

import com.thinkive.base.jdbc.DataRow;
import com.thinkive.base.util.SpringHelper;
import com.thinkive.fxc.ismp.bus.base.business.constants.BusinessServiceBeanIdConstants;
import com.thinkive.fxc.ismp.bus.base.business.service.SignAndVerifyService;
import com.thinkive.fxc.ismp.bus.base.common.ISMPBaseFunction;
import com.thinkive.fxc.ismp.bus.base.constants.DictionaryConstants;
import com.thinkive.fxc.ismp.bus.base.constants.ErrorCodeCheckInput;
import com.thinkive.fxc.ismp.bus.business.dzhtqs.service.SignElectronicContractService;
import com.thinkive.server.ResultVo;

/**
 * 作者：周佳
 * 公司：深圳市思迪信息技术股份公司
 * 日期时间：2018年12月28日 上午10:28:57
 * 说明：查询基金产品的协议列表
 */
public class Function1005000 extends ISMPBaseFunction
{
    protected ResultVo resultVo = new ResultVo();

    @Override
    public ResultVo execute() throws Exception
    {
        String fund_code = this.getAndCheckBlankStrParam("fund_code", ErrorCodeCheckInput.BLANK_BUSINESS_FUND_CODE);
        SignElectronicContractService service = SpringHelper.getBean(BusinessServiceBeanIdConstants.SERVICE_ID_CONTRACT_SIGN, SignElectronicContractService.class);
        List<DataRow> list=new ArrayList<DataRow>();
        ResultVo resultVo = new ResultVo();
        try
        {
            list=service.queryFundDealList(fund_code);
            resultVo.setErrorNo(DictionaryConstants.INVOKE_FUNCTION_SUCCESS);
            resultVo.setErrorMsg(DictionaryConstants.INVOKE_FUNCTION_SUCCESSMSG);
            resultVo.setResult(list);
        }
        catch (Exception e)
        {
            e.printStackTrace();
        }
        return resultVo;
    }
    
}
