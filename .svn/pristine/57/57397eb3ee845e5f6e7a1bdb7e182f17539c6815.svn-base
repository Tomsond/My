package com.thinkive.fxc.ismp.bus.base.util;

import java.util.ArrayList;
import java.util.List;

import org.apache.log4j.Logger;

import com.thinkive.base.jdbc.DataRow;

/**
 * 描述: DataRow转Model方法
 * 版权: Copyright (c) 2010
 * 公司: 深圳市思迪信息技术股份有限公司
 * 作者: 刘恺
 * 版本: 2.0.0 
 * 创建日期: 2016年8月12日 
 * 创建时间: 下午3:11:33
 */
public class ModelUtil
{
	
	private static Logger logger = Logger.getLogger(ModelUtil.class);
	
	/**
	 * 描述：将DataRow转为Model
	 * 作者：刘恺
	 * 时间：2016年6月29日 下午3:18:52
	 * @param dataRow
	 * @param classType
	 * @return
	 * @throws Exception
	 */
	@SuppressWarnings("unchecked")
	public static <T extends DataRow> T packInfo(DataRow dataRow, Class<T> classType)
	{
		if (dataRow == null || dataRow.isEmpty())
		{
			return null;
		}
		try
		{
			DataRow object = (DataRow) classType.newInstance();
			object.putAll(dataRow);
			return (T) object;
		}
		catch (InstantiationException e)
		{
			logger.error("DataRow转Model失败", e);
		}
		catch (IllegalAccessException e)
		{
			logger.error("DataRow转Model失败", e);
		}
		return null;
	}
	
	/**
	 * 描述：将List<DataRow>转为Model集合
	 * 作者：刘恺
	 * 时间：2016年6月29日 下午3:19:47
	 * @param dataList
	 * @param classType
	 * @return
	 * @throws Exception
	 */
	public static <T extends DataRow> List<T> packList(List<DataRow> dataList, Class<T> classType)
	{
		if (dataList == null || dataList.size() == 0)
		{
			return null;
		}
		List<T> list = new ArrayList<T>();
		for (DataRow dataItem : dataList)
		{
			list.add(packInfo(dataItem, classType));
		}
		return list;
	}
}
